<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LifeAI - Platform Kecerdasan Buatan</title>
    <script defer src="https://cloud.umami.is/script.js" data-website-id="02445695-2d2a-4d21-9990-6cfd160328b0"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2317582017242154"
     crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="/favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Load Google Identity Services library -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        :root {
            --primary: #6E6BF6;
            --primary-dark: #5A57E0;
            --text: #1A1A2E;
            --text-light: #6C757D;
            --bg: #F8F9FA;
            --card: #FFFFFF;
            --border: #E9ECEF;
            --success: #28A745;
            --error: #DC3545;
        }
        [data-theme="dark"] {
            --primary: #8B89FF;
            --primary-dark: #6E6BF6;
            --text: #F8F9FA;
            --text-light: #ADB5BD;
            --bg: #1A1A2E;
            --card: #16213E;
            --border: #2D3748;
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            transition: background 0.3s, color 0.2s;
        }
        body {
            font-family: 'Sora', sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            border-bottom: 1px solid var(--border);
        }
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }
        .auth-section {
            display: flex;
            gap: 15px;
        }
        .btn {
            padding: 10px 20px;
            border-radius: 30px;
            font-weight: 500;
            cursor: pointer;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        .btn-primary {
            background: var(--primary);
            color: white;
        }
        .btn-outline {
            background: transparent;
            border: 1px solid var(--primary);
            color: var(--primary);
        }
        .btn-icon {
            padding: 10px;
            border-radius: 50%;
            background: var(--card);
            color: var(--text);
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        main {
            margin-top: 40px;
            padding-bottom: 60px;
        }
        .search-container {
            position: relative;
            max-width: 600px;
            margin: 0 auto 30px;
        }
        .search-input {
            width: 100%;
            padding: 15px 20px;
            border-radius: 30px;
            border: 1px solid var(--border);
            background: var(--card);
            color: var(--text);
            font-size: 1rem;
            padding-left: 50px;
        }
        .search-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }
        .feature-card {
            background: var(--card);
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            cursor: pointer;
            border: 1px solid var(--border);
        }
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        .feature-icon {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        .feature-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }
        .feature-desc {
            color: var(--text-light);
            font-size: 0.9rem;
        }
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: var(--card);
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            padding: 30px;
            position: relative;
            overflow-y: auto;
        }
        .close-modal {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .form-group {
            margin-bottom: 20px;
        }
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        .form-input {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background: var(--bg);
            color: var(--text);
        }
        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
        }
        .tab.active {
            border-bottom: 3px solid var(--primary);
            font-weight: 600;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
        .response-container {
            margin-top: 20px;
            max-width: 100%;
            overflow: hidden;
        }
        .response-content {
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: inherit;
            margin: 0;
            padding: 15px;
            background: var(--bg);
            border-radius: 8px;
            border: 1px solid var(--border);
        }
        .error-content {
            color: var(--error);
            padding: 10px;
        }
        footer {
            text-align: center;
            padding: 20px;
            background: var(--card);
            border-top: 1px solid var(--border);
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        /* New Voice Chat Styles */
        .voice-chat-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 20px;
        }
        .voice-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
        .voice-btn {
            padding: 10px 15px;
            border-radius: 50px;
            background: var(--primary);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .voice-btn.secondary {
            background: var(--bg);
            color: var(--text);
        }
        .wave-animation {
            display: flex;
            align-items: center;
            gap: 4px;
            height: 30px;
            margin-left: 10px;
        }
        .wave-bar {
            width: 4px;
            height: 10px;
            background: var(--primary);
            border-radius: 2px;
            animation: wave 1.2s infinite ease-in-out;
        }
        .wave-bar:nth-child(1) { animation-delay: 0s; }
        .wave-bar:nth-child(2) { animation-delay: 0.2s; }
        .wave-bar:nth-child(3) { animation-delay: 0.4s; }
        .wave-bar:nth-child(4) { animation-delay: 0.6s; }
        .wave-bar:nth-child(5) { animation-delay: 0.8s; }
        
        @keyframes wave {
            0%, 100% { height: 10px; }
            50% { height: 20px; }
        }
        
        /* Loading Animation */
        .loading-animation {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100px;
        }
        .loading-dot {
            width: 12px;
            height: 12px;
            margin: 0 5px;
            background-color: var(--primary);
            border-radius: 50%;
            animation: loading 1.4s infinite ease-in-out;
        }
        .loading-dot:nth-child(1) { animation-delay: 0s; }
        .loading-dot:nth-child(2) { animation-delay: 0.2s; }
        .loading-dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes loading {
            0%, 100% { transform: scale(0.6); opacity: 0.5; }
            50% { transform: scale(1); opacity: 1; }
        }
        
        /* Intro Animation */
        .intro-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-dark);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
        }
        .intro-logo {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 20px;
            animation: fadeIn 1s ease-out;
        }
        .intro-text {
            font-size: 1.2rem;
            margin-bottom: 40px;
            opacity: 0;
            animation: fadeIn 1s ease-out 0.5s forwards;
        }
        .intro-progress {
            width: 200px;
            height: 4px;
            background: rgba(255,255,255,0.3);
            border-radius: 2px;
            overflow: hidden;
        }
        .intro-progress-bar {
            height: 100%;
            background: white;
            width: 0%;
            animation: progress 2s ease-in-out forwards;
        }
        
        /* Google Login Modal */
        .google-login-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 9998;
            display: none;
            justify-content: center;
            align-items: center;
        }
        .google-login-content {
            background: var(--card);
            border-radius: 15px;
            width: 90%;
            max-width: 400px;
            padding: 30px;
            text-align: center;
        }
        .google-login-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--text);
        }
        .google-login-desc {
            color: var(--text-light);
            margin-bottom: 30px;
        }
        #google-login-btn {
            margin: 0 auto;
            width: fit-content;
        }
        .skip-login {
            margin-top: 20px;
            color: var(--text-light);
            cursor: pointer;
            text-decoration: underline;
        }
        
        /* Page Content Styles */
        .page-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: var(--card);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border: 1px solid var(--border);
        }
        .page-title {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--primary);
        }
        .page-section {
            margin-bottom: 30px;
        }
        .page-section h2 {
            font-size: 1.5rem;
            margin-bottom: 15px;
            color: var(--primary);
        }
        .page-section p {
            margin-bottom: 15px;
            line-height: 1.7;
        }
        .page-section ul {
            margin-bottom: 15px;
            padding-left: 20px;
        }
        .page-section li {
            margin-bottom: 8px;
        }
        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .contact-item i {
            color: var(--primary);
            font-size: 1.2rem;
        }
        
        /* Navigation */
        .nav-links {
            display: flex;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .nav-link {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        .nav-link:hover {
            text-decoration: underline;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes progress {
            to { width: 100%; }
        }
        
        @media (max-width: 768px) {
            .features-grid {
                grid-template-columns: 1fr;
            }
            .voice-controls {
                flex-direction: column;
                align-items: flex-start;
            }
            .page-content {
                padding: 15px;
            }
            .page-title {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Intro Animation -->
    <div class="intro-overlay" id="intro-overlay">
        <div class="intro-logo">LifeAI</div>
        <div class="intro-text">Platform Kecerdasan Buatan Masa Depan</div>
        <div class="intro-progress">
            <div class="intro-progress-bar"></div>
        </div>
    </div>

    <!-- Google Login Modal -->
    <div class="google-login-modal" id="google-login-modal">
        <div class="google-login-content">
            <div class="google-login-title">Masuk ke LifeAI</div>
            <div class="google-login-desc">Lanjutkan dengan Google untuk mengakses semua fitur</div>
            <div id="google-login-btn"></div>
            <div class="skip-login" id="skip-login">Lewati, masuk nanti</div>
        </div>
    </div>

    <div class="container">
        <header>
            <div class="logo">LifeAI</div>
            <div class="auth-section">
                <button class="btn btn-outline" id="login-btn">
                    <i class="fas fa-sign-in-alt"></i> Masuk
                </button>
                <button class="btn btn-primary" id="register-btn">
                    <i class="fas fa-user-plus"></i> Daftar
                </button>
                <button class="btn-icon" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </header>

        <main>
            <!-- Dynamic Content Area -->
            <div id="dynamic-content">
                <!-- Default content (features) -->
                <div class="search-container">
                    <i class="fas fa-search search-icon"></i>
                    <input type="text" class="search-input" placeholder="Cari fitur LifeAI..." id="search-input">
                </div>

                <h2>Fitur Yang Tersedia</h2>
                <div class="features-grid" id="features-grid">
                    <!-- Fitur akan diisi oleh JavaScript -->
                </div>
            </div>

            <!-- About Us Page (hidden by default) -->
            <div id="about-page" class="page-content" style="display: none;">
                <h1 class="page-title">Tentang Kami</h1>
                
                <div class="page-section">
                    <h2>Siapa Kami?</h2>
                    <p>LifeAI adalah platform kecerdasan buatan berbasis di Indonesia yang dikembangkan oleh tim Lifevander Indonesia Inc. dengan tujuan memberikan solusi AI yang mudah diakses dan bermanfaat bagi masyarakat Indonesia.</p>
                    <p>Kami berkomitmen untuk menghadirkan teknologi AI terdepan dengan sentuhan lokal, memahami kebutuhan pengguna Indonesia, dan menyajikannya dalam antarmuka yang ramah pengguna.</p>
                </div>
                
                <div class="page-section">
                    <h2>Visi & Misi</h2>
                    <p><strong>Visi:</strong> Menjadi platform AI terdepan di Indonesia yang memberdayakan individu dan bisnis melalui teknologi kecerdasan buatan.</p>
                    <p><strong>Misi:</strong></p>
                    <ul>
                        <li>Menyediakan akses mudah ke teknologi AI untuk semua kalangan</li>
                        <li>Mengembangkan solusi AI yang relevan dengan kebutuhan lokal</li>
                        <li>Mendorong inovasi dan pemanfaatan AI secara bertanggung jawab</li>
                        <li>Membangun ekosistem AI yang inklusif di Indonesia</li>
                    </ul>
                </div>
                
                <div class="page-section">
                    <h2>Tim Kami</h2>
                    <p>LifeAI dikembangkan oleh tim profesional di bidang AI, pengembangan perangkat lunak, dan desain pengalaman pengguna. Dipimpin oleh M. Fariz sebagai pendiri dan pengembang utama, tim kami berdedikasi untuk terus menghadirkan fitur-fitur inovatif.</p>
                </div>
                
                <div class="nav-links">
                    <a href="#" class="nav-link" onclick="showPage('home')"><i class="fas fa-arrow-left"></i> Kembali ke Beranda</a>
                    <a href="#" class="nav-link" onclick="showPage('contact')"><i class="fas fa-envelope"></i> Hubungi Kami</a>
                </div>
            </div>
            
            <!-- Contact Page (hidden by default) -->
            <div id="contact-page" class="page-content" style="display: none;">
                <h1 class="page-title">Hubungi Kami</h1>
                
                <div class="page-section">
                    <h2>Kontak Informasi</h2>
                    <div class="contact-info">
                        <div class="contact-item">
                            <i class="fas fa-envelope"></i>
                            <span>Email: lifevandergamedev@gmail.com</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-phone"></i>
                            <span>Telepon: +6287729044780</span>
                        </div>
                        <div class="contact-item">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Alamat: Jl. Nasional No. 3, Cianjur Jawa Barat, Indonesia</span>
                        </div>
                    </div>
                </div>
                
                <div class="page-section">
                    <h2>Formulir Kontak</h2>
                    <div class="form-group">
                        <label class="form-label">Nama Lengkap</label>
                        <input type="text" class="form-input" id="contact-name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="contact-email">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Pesan</label>
                        <textarea class="form-input" id="contact-message" rows="5"></textarea>
                    </div>
                    <button class="btn btn-primary" id="send-message">Kirim Pesan</button>
                </div>
                
                <div class="page-section">
                    <h2>Media Sosial</h2>
                    <p>Ikuti kami di media sosial untuk mendapatkan update terbaru:</p>
                    <div style="display: flex; gap: 15px; margin-top: 15px;">
                        <a href="#" class="btn-icon"><i class="fab fa-facebook-f"></i></a>
                        <a href="#" class="btn-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="btn-icon"><i class="fab fa-instagram"></i></a>
                        <a href="#" class="btn-icon"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="btn-icon"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                
                <div class="nav-links">
                    <a href="#" class="nav-link" onclick="showPage('home')"><i class="fas fa-arrow-left"></i> Kembali ke Beranda</a>
                    <a href="#" class="nav-link" onclick="showPage('privacy')"><i class="fas fa-shield-alt"></i> Kebijakan Privasi</a>
                </div>
            </div>
            
            <!-- Privacy Policy Page (hidden by default) -->
            <div id="privacy-page" class="page-content" style="display: none;">
                <h1 class="page-title">Kebijakan Privasi</h1>
                
                <div class="page-section">
                    <p>Terakhir diperbarui: 22 Mei 2025</p>
                    <p>Kebijakan Privasi ini menjelaskan bagaimana LifeAI ("kami", "kita", atau "kita") mengumpulkan, menggunakan, dan membagikan informasi pribadi Anda ketika Anda menggunakan platform kami.</p>
                </div>
                
                <div class="page-section">
                    <h2>Informasi yang Kami Kumpulkan</h2>
                    <p>Kami mengumpulkan beberapa jenis informasi dari dan tentang pengguna platform kami, termasuk:</p>
                    <ul>
                        <li><strong>Informasi Pribadi:</strong> Nama, alamat email, dan informasi kontak lainnya yang Anda berikan saat mendaftar atau menggunakan layanan kami.</li>
                        <li><strong>Data Penggunaan:</strong> Informasi tentang bagaimana Anda mengakses dan menggunakan platform kami, termasuk data teknis seperti alamat IP, jenis browser, halaman yang dikunjungi, dan waktu akses.</li>
                        <li><strong>Data Interaksi:</strong> Konten yang Anda buat, unggah, atau bagikan melalui platform kami.</li>
                    </ul>
                </div>
                
                <div class="page-section">
                    <h2>Bagaimana Kami Menggunakan Informasi Anda</h2>
                    <p>Kami menggunakan informasi yang kami kumpulkan untuk berbagai tujuan, termasuk:</p>
                    <ul>
                        <li>Menyediakan, memelihara, dan meningkatkan layanan kami</li>
                        <li>Memproses transaksi dan mengelola akun Anda</li>
                        <li>Memberikan dukungan pelanggan</li>
                        <li>Mengembangkan produk dan fitur baru</li>
                        <li>Menganalisis penggunaan platform untuk meningkatkan pengalaman pengguna</li>
                        <li>Mendeteksi dan mencegah aktivitas penipuan atau penyalahgunaan</li>
                    </ul>
                </div>
                
                <div class="page-section">
                    <h2>Berbagi Informasi</h2>
                    <p>Kami tidak menjual atau menyewakan informasi pribadi Anda kepada pihak ketiga. Kami dapat membagikan informasi dalam situasi berikut:</p>
                    <ul>
                        <li>Dengan penyedia layanan yang membantu operasi bisnis kami (dengan kewajiban kerahasiaan)</li>
                        <li>Ketika diperlukan oleh hukum atau proses hukum</li>
                        <li>Untuk melindungi hak, properti, atau keselamatan kami, pengguna kami, atau publik</li>
                        <li>Dalam kaitannya dengan merger, akuisisi, atau penjualan aset</li>
                    </ul>
                </div>
                
                <div class="page-section">
                    <h2>Keamanan Data</h2>
                    <p>Kami menerapkan langkah-langkah keamanan teknis dan organisasi yang wajar untuk melindungi informasi pribadi Anda. Namun, tidak ada sistem yang 100% aman, dan kami tidak dapat menjamin keamanan mutlak data Anda.</p>
                </div>
                
                <div class="page-section">
                    <h2>Perubahan pada Kebijakan Ini</h2>
                    <p>Kami dapat memperbarui Kebijakan Privasi ini dari waktu ke waktu. Kami akan memberi tahu Anda tentang perubahan material dengan memposting pemberitahuan di platform kami sebelum perubahan berlaku.</p>
                </div>
                
                <div class="page-section">
                    <h2>Hubungi Kami</h2>
                    <p>Jika Anda memiliki pertanyaan tentang Kebijakan Privasi ini, silakan hubungi kami melalui halaman <a href="#" onclick="showPage('contact')" style="color: var(--primary);">Kontak</a>.</p>
                </div>
                
                <div class="nav-links">
                    <a href="#" class="nav-link" onclick="showPage('home')"><i class="fas fa-arrow-left"></i> Kembali ke Beranda</a>
                    <a href="#" class="nav-link" onclick="showPage('terms')"><i class="fas fa-file-contract"></i> Syarat & Ketentuan</a>
                </div>
            </div>
            
            <!-- Terms & Conditions Page (hidden by default) -->
            <div id="terms-page" class="page-content" style="display: none;">
                <h1 class="page-title">Syarat & Ketentuan</h1>
                
                <div class="page-section">
                    <p>Terakhir diperbarui: 22 Mei 2025</p>
                    <p>Dengan mengakses atau menggunakan platform LifeAI ("Layanan"), Anda setuju untuk terikat oleh Syarat dan Ketentuan ini ("Syarat"). Jika Anda tidak setuju dengan bagian mana pun dari Syarat ini, Anda tidak dapat mengakses Layanan.</p>
                </div>
                
                <div class="page-section">
                    <h2>Penggunaan Layanan</h2>
                    <p>Anda setuju untuk menggunakan Layanan sesuai dengan semua hukum dan peraturan yang berlaku. Anda dilarang:</p>
                    <ul>
                        <li>Menggunakan Layanan untuk tujuan ilegal atau tidak sah</li>
                        <li>Melanggar hak kekayaan intelektual orang lain</li>
                        <li>Mengunggah atau menyebarkan konten yang bersifat menghina, memfitnah, atau tidak senonoh</li>
                        <li>Mengganggu atau mengganggu keamanan atau akses ke Layanan</li>
                        <li>Mencoba mendapatkan akses tidak sah ke sistem atau jaringan kami</li>
                        <li>Menggunakan Layanan untuk menciptakan produk atau layanan yang bersaing</li>
                    </ul>
                </div>
                
                <div class="page-section">
                    <h2>Akun Pengguna</h2>
                    <p>Anda mungkin perlu mendaftar akun untuk mengakses beberapa fitur Layanan. Anda bertanggung jawab untuk:</p>
                    <ul>
                        <li>Memberikan informasi yang akurat dan lengkap saat mendaftar</li>
                        <li>Menjaga kerahasiaan kredensial akun Anda</li>
                        <li>Segera memberi tahu kami tentang penggunaan tidak sah atas akun Anda</li>
                    </ul>
                    <p>Kami berhak menangguhkan atau menghentikan akun Anda jika Anda melanggar Syarat ini.</p>
                </div>
                
                <div class="page-section">
                    <h2>Konten Pengguna</h2>
                    <p>Anda mempertahankan kepemilikan atas konten yang Anda buat atau unggah ke Layanan ("Konten Pengguna"). Dengan mengunggah Konten Pengguna, Anda memberikan kami lisensi global, non-eksklusif, dapat dialihkan, dan bebas royalti untuk menggunakan, mereproduksi, memodifikasi, dan menampilkan Konten Pengguna dalam menyediakan Layanan.</p>
                    <p>Anda bertanggung jawab penuh atas Konten Pengguna Anda dan konsekuensi dari pengunggahan atau pembagiannya.</p>
                </div>
                
                <div class="page-section">
                    <h2>Hak Kekayaan Intelektual</h2>
                    <p>Layanan dan semua hak, kepemilikan, dan kepentingan terkait, termasuk semua hak kekayaan intelektual, adalah dan akan tetap menjadi milik eksklusif LifeAI dan pemberi lisensinya. Tidak ada dalam Syarat ini yang memberikan Anda hak untuk menggunakan merek dagang, logo, atau identitas merek kami.</p>
                </div>
                
                <div class="page-section">
                    <h2>Pembatasan Tanggung Jawab</h2>
                    <p>Layanan disediakan "sebagaimana adanya" dan "sebagaimana tersedia". Kami tidak membuat pernyataan atau jaminan apa pun mengenai keandalan, ketepatan waktu, kualitas, kesesuaian, atau ketersediaan Layanan.</p>
                    <p>Sejauh diizinkan oleh hukum, LifeAI tidak bertanggung jawab atas kerusakan langsung, tidak langsung, insidental, khusus, konsekuensial, atau exempler yang timbul dari atau terkait dengan penggunaan Layanan.</p>
                </div>
                
                <div class="page-section">
                    <h2>Perubahan pada Syarat</h2>
                    <p>Kami berhak untuk memodifikasi Syarat ini kapan saja. Kami akan memberi tahu Anda tentang perubahan material dengan memposting pemberitahuan di platform kami sebelum perubahan berlaku.</p>
                </div>
                
                <div class="page-section">
                    <h2>Hukum yang Berlaku</h2>
                    <p>Syarat ini diatur oleh dan ditafsirkan sesuai dengan hukum Republik Indonesia. Setiap sengketa yang timbul dari atau terkait dengan Syarat ini akan tunduk pada yurisdiksi eksklusif pengadilan di Indonesia.</p>
                </div>
                
                <div class="nav-links">
                    <a href="#" class="nav-link" onclick="showPage('home')"><i class="fas fa-arrow-left"></i> Kembali ke Beranda</a>
                    <a href="#" class="nav-link" onclick="showPage('privacy')"><i class="fas fa-shield-alt"></i> Kebijakan Privasi</a>
                </div>
            </div>
        </main>

        <!-- Modal Auth -->
        <div class="modal" id="auth-modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <div class="tabs">
                    <div class="tab active" data-tab="login">Masuk</div>
                    <div class="tab" data-tab="register">Daftar</div>
                </div>
                <div class="tab-content active" id="login-tab">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="login-email">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-input" id="login-password">
                    </div>
                    <button class="btn btn-primary" id="submit-login">Masuk</button>
                    <div style="text-align: center; margin-top: 20px; color: var(--text-light);">Atau</div>
                    <div id="google-login-btn-inner" style="margin-top: 20px;"></div>
                </div>
                <div class="tab-content" id="register-tab">
                    <div class="form-group">
                        <label class="form-label">Nama Lengkap</label>
                        <input type="text" class="form-input" id="register-name">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="register-email">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Password</label>
                        <input type="password" class="form-input" id="register-password">
                    </div>
                    <button class="btn btn-primary" id="submit-register">Daftar</button>
                </div>
            </div>
        </div>

        <!-- Modal Fitur -->
        <div class="modal" id="feature-modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2 id="feature-modal-title"></h2>
                <p id="feature-modal-desc"></p>
                
                <!-- Voice Chat Section -->
                <div class="voice-chat-container" id="voice-chat-section" style="display: none;">
                    <div class="voice-controls">
                        <button class="voice-btn" id="start-listening">
                            <i class="fas fa-microphone"></i> Mulai Bicara
                        </button>
                        <button class="voice-btn secondary" id="stop-listening" disabled>
                            <i class="fas fa-stop"></i> Berhenti
                        </button>
                        <div class="wave-animation" id="wave-animation" style="display: none;">
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                            <div class="wave-bar"></div>
                        </div>
                    </div>
                    <div id="voice-status">Tekan tombol mikrofon untuk mulai berbicara</div>
                </div>
                
                <div class="form-group" id="feature-input-container" style="margin-top: 20px;">
                    <!-- Input dinamis akan diisi di sini -->
                </div>
                
                <div id="feature-loading" class="loading-animation" style="display: none;">
                    <div class="loading-dot"></div>
                    <div class="loading-dot"></div>
                    <div class="loading-dot"></div>
                </div>
                
                <div id="feature-response" class="response-container" style="display: none;">
                    <!-- Respons dari API akan muncul di sini -->
                </div>
                <button class="btn btn-primary" id="submit-feature" style="margin-top: 15px;">Proses</button>
                <button class="btn btn-outline" id="speak-response" style="margin-top: 15px; display: none;">
                    <i class="fas fa-volume-up"></i> Dengarkan Jawaban
                </button>
            </div>
        </div>
    </div>

    <footer>
        <div style="margin-bottom: 15px;">
            <a href="#" onclick="showPage('about')" style="color: var(--text-light); margin: 0 10px;">Tentang Kami</a>
            <a href="#" onclick="showPage('contact')" style="color: var(--text-light); margin: 0 10px;">Kontak</a>
            <a href="#" onclick="showPage('privacy')" style="color: var(--text-light); margin: 0 10px;">Kebijakan Privasi</a>
            <a href="#" onclick="showPage('terms')" style="color: var(--text-light); margin: 0 10px;">Syarat & Ketentuan</a>
        </div>
        &copy; 2025 LifeAI - By M.Fariz | Lifevander Indonesia Inc.
    </footer>

    <script>
        // Konfigurasi Cohere API
        const COHERE_API_KEY = "Q0SDjtBTdABFnipUNG0RPUQS2uriNmpXlQXztD54"; // Ganti dengan API key Anda
        const COHERE_API_URL = "https://api.cohere.ai/v1/generate";

        // Database Fitur
        const features = [
            {
                id: 1,
                title: "Percakapan AI",
                description: "Berinteraksi dengan model bahasa canggih untuk berbagai kebutuhan",
                icon: "fa-comment-dots",
                inputType: "textarea",
                placeholder: "Ketik pesan Anda...",
                promptPrefix: "Anda adalah asisten AI LifeAI yang berbahasa Indonesia dan dikembangkan oleh M.Fariz-Lifevander lifeai-deep-plus berbasis di Indonesia. Berikan respon dalam Bahasa Indonesia yang ramah dan Jawablah pertanyaan berikut dengan sikap profesional:",
                hasVoice: true
            },
            {
                id: 2,
                title: "Penerjemah",
                description: "Terjemahkan teks antar bahasa dengan akurasi tinggi",
                icon: "fa-language",
                inputType: "textarea",
                placeholder: "Masukkan teks yang akan diterjemahkan...",
                promptPrefix: "Terjemahkan teks berikut ke Bahasa Indonesia (jika teks Inggris) atau ke Bahasa Inggris (jika teks Indonesia), berikan hasil terjemahan yang alami:"
            },
            {
                id: 3,
                title: "Generator Kode",
                description: "Bantu Anda menulis dan debug kode pemrograman",
                icon: "fa-code",
                inputType: "textarea",
                placeholder: "Deskripsikan kode yang Anda butuhkan...",
                promptPrefix: "Buatkan kode program untuk kebutuhan berikut dalam Bahasa Indonesia. Berikan penjelasan singkat dalam Bahasa Indonesia:"
            },
            {
                id: 4,
                title: "Analisis Dokumen",
                description: "Unggah dan analisis dokumen PDF, Word, atau Excel",
                icon: "fa-file-alt",
                inputType: "file",
                accept: ".pdf,.docx,.xlsx",
                promptPrefix: "Analisis dokumen berikut dan berikan rangkuman dalam Bahasa Indonesia:"
            },
            {
                id: 5,
                title: "Generator Konten",
                description: "Buat artikel, cerita, atau konten kreatif lainnya",
                icon: "fa-pen-fancy",
                inputType: "textarea",
                placeholder: "Deskripsikan konten yang Anda butuhkan...",
                promptPrefix: "Buatkan konten dalam Bahasa Indonesia tentang topik berikut. Gunakan gaya bahasa yang menarik dan mudah dipahami:"
            },
            {
                id: 6,
                title: "Pembelajaran Bahasa",
                description: "Latih kosakata dan tata bahasa dengan bantuan AI",
                icon: "fa-book-open",
                inputType: "select",
                options: ["Kuis Kosakata", "Latihan Tata Bahasa", "Percakapan Simulasi"],
                promptPrefix: "Buatkan materi pembelajaran bahasa Indonesia untuk latihan berikut. Berikan contoh dan penjelasan:"
            },
            {
                id: 7,
                title: "Dukung Kami & Laporkan Masalah",
                description: "Dukung Kami Melalui : https://trakteer.id/lifevand, dan laporkan masalah yang Anda temui",
                icon: "fa-headset",
                inputType: "textarea",
                placeholder: "Jelaskan masalah atau pertanyaan Anda...",
                promptPrefix: "Anda adalah tim dukungan LifeAI. Tanggapi pertanyaan atau masalah berikut dengan ramah dan profesional dalam Bahasa Indonesia. Berikan solusi yang jelas dan bermanfaat:",
                hasVoice: true
            }
        ];

        // Inisialisasi IndexedDB
        let db;
        const DB_NAME = "LifeAI";
        const DB_VERSION = 1;
        const USER_STORE = "users";
        const SESSION_STORE = "sessions";

        // Voice Recognition
        let recognition;
        let isListening = false;
        let finalTranscript = '';
        
        // Google Login State
        let googleUser = null;
        
        // Initialize Google Sign-In
        const initGoogleSignIn = () => {
            // For modal login
            google.accounts.id.initialize({
                client_id: '393290353406-hnqaompcnpa5210bi4rfamqp7pkdk1iu.apps.googleusercontent.com', // Ganti dengan client ID Anda
                callback: handleGoogleCredentialResponse,
                redirect_uri: 'https://lifeai.vercel.app/oauth2callback',
                ux_mode: 'popup',
                auto_select: false
            });
            
            // Render button for modal
            google.accounts.id.renderButton(
                document.getElementById("google-login-btn"),
                { 
                    theme: "filled_blue", 
                    size: "large",
                    width: "300",
                    text: "continue_with",
                    shape: "pill"
                }
            );
            
            // Render button for auth modal
            google.accounts.id.renderButton(
                document.getElementById("google-login-btn-inner"),
                { 
                    theme: "outline", 
                    size: "large",
                    width: "300",
                    text: "continue_with",
                    shape: "pill"
                }
            );
        };
        
        // Handle Google login response
        const handleGoogleCredentialResponse = (response) => {
            // Decode JWT token to get user info
            const responsePayload = JSON.parse(atob(response.credential.split('.')[1]));
            
            googleUser = {
                name: responsePayload.name,
                email: responsePayload.email,
                picture: responsePayload.picture
            };
            
            // Save to session
            setSession({
                email: googleUser.email,
                name: googleUser.name,
                picture: googleUser.picture,
                provider: 'google'
            }).then(() => {
                // Close modals
                document.getElementById('google-login-modal').style.display = 'none';
                document.getElementById('auth-modal').style.display = 'none';
                
                // Update UI
                updateAuthUI(true, googleUser.name);
                
                // Show welcome message
                alert(`Selamat datang, ${googleUser.name}!`);
            });
        };
        
        const initVoiceRecognition = () => {
            try {
                const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                recognition = new SpeechRecognition();
                recognition.continuous = true;
                recognition.interimResults = true;
                recognition.lang = 'id-ID'; // Bahasa Indonesia

                recognition.onstart = () => {
                    isListening = true;
                    document.getElementById('wave-animation').style.display = 'flex';
                    document.getElementById('voice-status').textContent = 'Mendengarkan...';
                    document.getElementById('start-listening').disabled = true;
                    document.getElementById('stop-listening').disabled = false;
                };

                recognition.onerror = (event) => {
                    console.error('Speech recognition error', event.error);
                    document.getElementById('voice-status').textContent = 'Error: ' + event.error;
                    stopListening();
                };

                recognition.onend = () => {
                    if (isListening) {
                        recognition.start(); // Restart if still listening
                    } else {
                        document.getElementById('wave-animation').style.display = 'none';
                        document.getElementById('start-listening').disabled = false;
                        document.getElementById('stop-listening').disabled = true;
                    }
                };

                recognition.onresult = (event) => {
                    let interimTranscript = '';
                    
                    for (let i = event.resultIndex; i < event.results.length; i++) {
                        const transcript = event.results[i][0].transcript;
                        if (event.results[i].isFinal) {
                            finalTranscript += transcript + ' ';
                        } else {
                            interimTranscript += transcript;
                        }
                    }
                    
                    // Update input field
                    const inputElement = document.querySelector('#feature-input-container textarea, #feature-input-container input[type="text"]');
                    if (inputElement) {
                        inputElement.value = finalTranscript + interimTranscript;
                    }
                    
                    document.getElementById('voice-status').textContent = interimTranscript || 'Mendengarkan...';
                };
            } catch (e) {
                console.error('Speech recognition not supported', e);
                document.getElementById('voice-chat-section').innerHTML = 
                    '<div class="error-content">Browser tidak mendukung voice recognition. Gunakan Chrome atau Edge versi terbaru.</div>';
            }
        };
        
        const startListening = () => {
            finalTranscript = '';
            try {
                recognition.start();
            } catch (e) {
                console.error('Error starting recognition:', e);
            }
        };
        
        const stopListening = () => {
            isListening = false;
            recognition.stop();
            document.getElementById('voice-status').textContent = 'Selesai mendengarkan.';
        };
        
        const speakText = (text) => {
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'id-ID'; // Bahasa Indonesia
            utterance.rate = 1.0;
            speechSynthesis.speak(utterance);
        };

        const initDB = () => {
            return new Promise((resolve, reject) => {
                const request = indexedDB.open(DB_NAME, DB_VERSION);
                
                request.onupgradeneeded = (event) => {
                    db = event.target.result;
                    
                    if (!db.objectStoreNames.contains(USER_STORE)) {
                        const userStore = db.createObjectStore(USER_STORE, { keyPath: "email" });
                        userStore.createIndex("name", "name", { unique: false });
                    }
                    
                    if (!db.objectStoreNames.contains(SESSION_STORE)) {
                        db.createObjectStore(SESSION_STORE, { keyPath: "id" });
                    }
                };
                
                request.onsuccess = (event) => {
                    db = event.target.result;
                    resolve(db);
                };
                
                request.onerror = (event) => {
                    console.error("IndexedDB error:", event.target.error);
                    reject(event.target.error);
                };
            });
        };

        // Render fitur
        const renderFeatures = () => {
            const featuresGrid = document.getElementById('features-grid');
            featuresGrid.innerHTML = '';
            
            features.forEach(feature => {
                const featureCard = document.createElement('div');
                featureCard.className = 'feature-card';
                featureCard.innerHTML = `
                    <div class="feature-icon">
                        <i class="fas ${feature.icon}"></i>
                    </div>
                    <div class="feature-title">${feature.title}</div>
                    <div class="feature-desc">${feature.description}</div>
                `;
                featureCard.addEventListener('click', () => openFeatureModal(feature));
                featuresGrid.appendChild(featureCard);
            });
        };

        // Modal fitur
        const openFeatureModal = (feature) => {
            const modal = document.getElementById('feature-modal');
            const title = document.getElementById('feature-modal-title');
            const desc = document.getElementById('feature-modal-desc');
            const inputContainer = document.getElementById('feature-input-container');
            const responseDiv = document.getElementById('feature-response');
            const loadingDiv = document.getElementById('feature-loading');
            const voiceSection = document.getElementById('voice-chat-section');
            const speakBtn = document.getElementById('speak-response');
            
            title.textContent = feature.title;
            desc.textContent = feature.description;
            responseDiv.style.display = 'none';
            loadingDiv.style.display = 'none';
            responseDiv.innerHTML = '';
            speakBtn.style.display = 'none';
            
            // Tampilkan voice chat jika fitur mendukung
            if (feature.hasVoice) {
                voiceSection.style.display = 'block';
            } else {
                voiceSection.style.display = 'none';
            }
            
            // Buat input berdasarkan tipe
            inputContainer.innerHTML = '';
            let inputElement;
            
            switch(feature.inputType) {
                case 'textarea':
                    inputElement = document.createElement('textarea');
                    inputElement.className = 'form-input';
                    inputElement.placeholder = feature.placeholder || '';
                    inputElement.rows = 5;
                    break;
                case 'file':
                    inputElement = document.createElement('input');
                    inputElement.type = 'file';
                    inputElement.className = 'form-input';
                    if (feature.accept) inputElement.accept = feature.accept;
                    break;
                case 'select':
                    inputElement = document.createElement('select');
                    inputElement.className = 'form-input';
                    feature.options.forEach(option => {
                        const optElement = document.createElement('option');
                        optElement.value = option;
                        optElement.textContent = option;
                        inputElement.appendChild(optElement);
                    });
                    break;
                default:
                    inputElement = document.createElement('input');
                    inputElement.type = 'text';
                    inputElement.className = 'form-input';
                    inputElement.placeholder = feature.placeholder || '';
            }
            
            inputContainer.appendChild(inputElement);
            
            // Handle submit
            const submitBtn = document.getElementById('submit-feature');
            submitBtn.onclick = () => processFeature(feature, inputElement);
            
            // Handle voice response
            speakBtn.onclick = () => {
                const responseText = responseDiv.querySelector('.response-content')?.textContent;
                if (responseText) {
                    speakText(responseText);
                }
            };
            
            modal.style.display = 'flex';
        };

        // Proses fitur dengan Cohere API
        const processFeature = async (feature, inputElement) => {
            const responseDiv = document.getElementById('feature-response');
            const loadingDiv = document.getElementById('feature-loading');
            const submitBtn = document.getElementById('submit-feature');
            const speakBtn = document.getElementById('speak-response');
            
            let inputValue;
            if (feature.inputType === 'file') {
                const file = inputElement.files[0];
                if (!file) {
                    alert('Silakan pilih file terlebih dahulu');
                    return;
                }
                inputValue = file.name;
            } else {
                inputValue = inputElement.value;
                if (!inputValue.trim()) {
                    alert('Silakan isi input terlebih dahulu');
                    return;
                }
            }
            
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Memproses...';
            loadingDiv.style.display = 'flex';
            responseDiv.style.display = 'none';
            
            try {
                // Buat prompt berdasarkan fitur
                const prompt = feature.promptPrefix 
                    ? `${feature.promptPrefix} ${inputValue}`
                    : `Anda adalah LifeAI. Tugas: ${feature.title}. Input pengguna: ${inputValue}`;
                
                // Kirim request ke Cohere API
                const response = await fetch(COHERE_API_URL, {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${COHERE_API_KEY}`,
                        'Content-Type': 'application/json',
                        'Cohere-Version': '2022-12-06'
                    },
                    body: JSON.stringify({
                        model: 'command-r-plus',
                        prompt: prompt,
                        max_tokens: 1000,
                        temperature: 0.7,
                        k: 0,
                        stop_sequences: [],
                        return_likelihoods: 'NONE'
                    })
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();
                
                // Tampilkan respons dengan format yang benar
                loadingDiv.style.display = 'none';
                responseDiv.style.display = 'block';
                speakBtn.style.display = 'inline-flex';
                responseDiv.innerHTML = `
                    <div class="response-content">
                        ${data.generations[0].text}
                    </div>
                `;
                
            } catch (error) {
                console.error('Error:', error);
                loadingDiv.style.display = 'none';
                responseDiv.style.display = 'block';
                responseDiv.innerHTML = `
                    <div class="error-content">
                        <p><strong>Error:</strong> Gagal terhubung ke Cohere API</p>
                        <p>${error.message}</p>
                    </div>
                `;
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = 'Proses';
            }
        };

        // Fungsi pencarian
        const setupSearch = () => {
            const searchInput = document.getElementById('search-input');
            
            searchInput.addEventListener('input', () => {
                const searchTerm = searchInput.value.toLowerCase();
                const featureCards = document.querySelectorAll('.feature-card');
                
                featureCards.forEach(card => {
                    const title = card.querySelector('.feature-title').textContent.toLowerCase();
                    const desc = card.querySelector('.feature-desc').textContent.toLowerCase();
                    
                    if (title.includes(searchTerm) || desc.includes(searchTerm)) {
                        card.style.display = 'block';
                    } else {
                        card.style.display = 'none';
                    }
                });
            });
        };

        // Fungsi autentikasi
        const setupAuth = () => {
            const authModal = document.getElementById('auth-modal');
            const loginBtn = document.getElementById('login-btn');
            const registerBtn = document.getElementById('register-btn');
            const closeModal = document.querySelectorAll('.close-modal');
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            // Buka modal login/register
            loginBtn.addEventListener('click', () => {
                document.querySelector('.tab[data-tab="login"]').click();
                authModal.style.display = 'flex';
            });
            
            registerBtn.addEventListener('click', () => {
                document.querySelector('.tab[data-tab="register"]').click();
                authModal.style.display = 'flex';
            });
            
            // Tutup modal
            closeModal.forEach(btn => {
                btn.addEventListener('click', () => {
                    authModal.style.display = 'none';
                    document.getElementById('feature-modal').style.display = 'none';
                });
            });
            
            // Switch tab
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    tab.classList.add('active');
                    document.getElementById(`${tab.dataset.tab}-tab`).classList.add('active');
                });
            });
            
            // Submit login
            document.getElementById('submit-login').addEventListener('click', async () => {
                const email = document.getElementById('login-email').value;
                const password = document.getElementById('login-password').value;
                
                if (!email || !password) {
                    alert('Silakan isi email dan password');
                    return;
                }
                
                // Simulasi login
                try {
                    const user = await getUser(email);
                    
                    if (user && user.password === password) {
                        // Simpan session
                        await setSession({ email: user.email, name: user.name });
                        alert(`Selamat datang, ${user.name}!`);
                        authModal.style.display = 'none';
                        updateAuthUI(true, user.name);
                    } else {
                        alert('Email atau password salah');
                    }
                } catch (error) {
                    console.error('Login error:', error);
                    alert('Terjadi kesalahan saat login');
                }
            });
            
            // Submit register
            document.getElementById('submit-register').addEventListener('click', async () => {
                const name = document.getElementById('register-name').value;
                const email = document.getElementById('register-email').value;
                const password = document.getElementById('register-password').value;
                
                if (!name || !email || !password) {
                    alert('Silakan isi semua field');
                    return;
                }
                
                if (password.length < 8) {
                    alert('Password minimal 8 karakter');
                    return;
                }
                
                // Simulasi register
                try {
                    const existingUser = await getUser(email);
                    if (existingUser) {
                        alert('Email sudah terdaftar');
                        return;
                    }
                    
                    await addUser({ email, name, password });
                    alert('Pendaftaran berhasil! Silakan login.');
                    document.querySelector('.tab[data-tab="login"]').click();
                } catch (error) {
                    console.error('Register error:', error);
                    alert('Terjadi kesalahan saat pendaftaran');
                }
            });
        };

        // Fungsi database
        const addUser = (user) => {
            return new Promise((resolve, reject) => {
                const transaction = db.transaction(USER_STORE, 'readwrite');
                const store = transaction.objectStore(USER_STORE);
                
                const request = store.add(user);
                
                request.onsuccess = () => resolve();
                request.onerror = (event) => reject(event.target.error);
            });
        };

        const getUser = (email) => {
            return new Promise((resolve, reject) => {
                const transaction = db.transaction(USER_STORE, 'readonly');
                const store = transaction.objectStore(USER_STORE);
                
                const request = store.get(email);
                
                request.onsuccess = () => resolve(request.result);
                request.onerror = (event) => reject(event.target.error);
            });
        };

        const setSession = (session) => {
            return new Promise((resolve, reject) => {
                const transaction = db.transaction(SESSION_STORE, 'readwrite');
                const store = transaction.objectStore(SESSION_STORE);
                
                // Hapus session lama jika ada
                store.clear();
                
                // Tambah session baru
                const request = store.add({ ...session, id: 1, timestamp: Date.now() });
                
                request.onsuccess = () => resolve();
                request.onerror = (event) => reject(event.target.error);
            });
        };

        const getSession = () => {
            return new Promise((resolve, reject) => {
                const transaction = db.transaction(SESSION_STORE, 'readonly');
                const store = transaction.objectStore(SESSION_STORE);
                
                const request = store.get(1);
                
                request.onsuccess = () => resolve(request.result);
                request.onerror = (event) => reject(event.target.error);
            });
        };

        // Update UI setelah login/logout
        const updateAuthUI = async (isLoggedIn, name = '') => {
            const authSection = document.querySelector('.auth-section');
            
            if (isLoggedIn) {
                authSection.innerHTML = `
                    <span style="margin-right: 15px;">Halo, ${name}</span>
                    <button class="btn btn-outline" id="logout-btn">
                        <i class="fas fa-sign-out-alt"></i> Keluar
                    </button>
                    <button class="btn-icon" id="theme-toggle">
                        <i class="fas fa-moon"></i>
                    </button>
                `;
                
                document.getElementById('logout-btn').addEventListener('click', async () => {
                    try {
                        const transaction = db.transaction(SESSION_STORE, 'readwrite');
                        const store = transaction.objectStore(SESSION_STORE);
                        store.clear();
                        
                        // Also sign out from Google
                        if (google.accounts && google.accounts.id) {
                            google.accounts.id.disableAutoSelect();
                        }
                        
                        googleUser = null;
                        updateAuthUI(false);
                    } catch (error) {
                        console.error('Logout error:', error);
                    }
                });
            } else {
                authSection.innerHTML = `
                    <button class="btn btn-outline" id="login-btn">
                        <i class="fas fa-sign-in-alt"></i> Masuk
                    </button>
                    <button class="btn btn-primary" id="register-btn">
                        <i class="fas fa-user-plus"></i> Daftar
                    </button>
                    <button class="btn-icon" id="theme-toggle">
                        <i class="fas fa-moon"></i>
                    </button>
                `;
                
                setupAuth();
            }
            
            setupThemeToggle();
        };

        // Toggle tema gelap/terang
        const setupThemeToggle = () => {
            const themeToggle = document.getElementById('theme-toggle');
            
            if (!themeToggle) return;
            
            const currentTheme = localStorage.getItem('theme') || 'light';
            if (currentTheme === 'dark') {
                document.documentElement.setAttribute('data-theme', 'dark');
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                document.documentElement.removeAttribute('data-theme');
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
            
            themeToggle.addEventListener('click', () => {
                const isDark = document.documentElement.hasAttribute('data-theme');
                
                if (isDark) {
                    document.documentElement.removeAttribute('data-theme');
                    localStorage.setItem('theme', 'light');
                    themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
                } else {
                    document.documentElement.setAttribute('data-theme', 'dark');
                    localStorage.setItem('theme', 'dark');
                    themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
                }
            });
        };

        // Setup voice controls
        const setupVoiceControls = () => {
            document.getElementById('start-listening').addEventListener('click', startListening);
            document.getElementById('stop-listening').addEventListener('click', stopListening);
        };

        // Intro animation
        const showIntroAnimation = () => {
            return new Promise((resolve) => {
                const introOverlay = document.getElementById('intro-overlay');
                
                // Hide after animation completes
                setTimeout(() => {
                    introOverlay.style.opacity = '0';
                    setTimeout(() => {
                        introOverlay.style.display = 'none';
                        
                        // Show Google login modal after intro
                        const session = localStorage.getItem('lifeai-session');
                        if (!session) {
                            document.getElementById('google-login-modal').style.display = 'flex';
                        }
                        
                        resolve();
                    }, 500);
                }, 2500);
            });
        };

        // Setup Google login modal
        const setupGoogleLoginModal = () => {
            document.getElementById('skip-login').addEventListener('click', () => {
                document.getElementById('google-login-modal').style.display = 'none';
            });
        };
        
        // Show different pages
        const showPage = (pageId) => {
            // Hide all pages
            document.getElementById('dynamic-content').style.display = 'none';
            document.getElementById('about-page').style.display = 'none';
            document.getElementById('contact-page').style.display = 'none';
            document.getElementById('privacy-page').style.display = 'none';
            document.getElementById('terms-page').style.display = 'none';
            
            // Show selected page
            switch(pageId) {
                case 'home':
                    document.getElementById('dynamic-content').style.display = 'block';
                    break;
                case 'about':
                    document.getElementById('about-page').style.display = 'block';
                    break;
                case 'contact':
                    document.getElementById('contact-page').style.display = 'block';
                    break;
                case 'privacy':
                    document.getElementById('privacy-page').style.display = 'block';
                    break;
                case 'terms':
                    document.getElementById('terms-page').style.display = 'block';
                    break;
            }
            
            // Scroll to top
            window.scrollTo(0, 0);
        };
        
        // Setup contact form
        const setupContactForm = () => {
            document.getElementById('send-message').addEventListener('click', () => {
                const name = document.getElementById('contact-name').value;
                const email = document.getElementById('contact-email').value;
                const message = document.getElementById('contact-message').value;
                
                if (!name || !email || !message) {
                    alert('Silakan isi semua field');
                    return;
                }
                
                // Simulate sending message
                alert(`Terima kasih, ${name}! Pesan Anda telah terkirim. Kami akan menghubungi Anda melalui email ${email} segera.`);
                
                // Clear form
                document.getElementById('contact-name').value = '';
                document.getElementById('contact-email').value = '';
                document.getElementById('contact-message').value = '';
            });
        };

        // Inisialisasi aplikasi
        const initApp = async () => {
            await initDB();
            
            // Initialize Google Sign-In
            if (typeof google !== 'undefined') {
                initGoogleSignIn();
            } else {
                console.warn('Google Identity Services library not loaded');
            }
            
            // Show intro animation first
            await showIntroAnimation();
            
            renderFeatures();
            setupSearch();
            setupAuth();
            setupThemeToggle();
            initVoiceRecognition();
            setupVoiceControls();
            setupGoogleLoginModal();
            setupContactForm();
            
            // Cek session saat load
            try {
                const session = await getSession();
                if (session) {
                    updateAuthUI(true, session.name);
                }
            } catch (error) {
                console.error('Session check error:', error);
            }
        };

        // Jalankan aplikasi
        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
    </html>
